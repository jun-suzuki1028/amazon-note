# Gemini MCP活用ガイド

Claude CodeのGemini MCPサーバーを活用して、効率的なDeepResearchを実行するための実践ガイドです。

## 目次

1. [Gemini MCP概要](#gemini-mcp概要)
2. [基本的な使用方法](#基本的な使用方法)
3. [リサーチパターン別活用法](#リサーチパターン別活用法)
4. [効率化テクニック](#効率化テクニック)
5. [エラー対策とトラブルシューティング](#エラー対策とトラブルシューティング)
6. [結果の管理と活用](#結果の管理と活用)

---

## Gemini MCP概要

### Gemini MCPの特徴

**主要機能**
- リアルタイムWeb検索機能
- 大量情報の高速処理
- 多角的な情報分析
- 構造化データ出力

**Amazon記事リサーチでの優位性**
- 最新の商品情報を即座に取得
- 複数ECサイトの価格比較
- リアルタイムレビュー分析
- トレンド情報の即時反映

### 利用可能なコマンド

```bash
# 基本的な問い合わせ
mcp__gemini-cli__ask-gemini

# 主要パラメータ
- prompt: リサーチ内容の指示
- model: 使用モデル（省略可能）
- changeMode: 構造化出力モード（true推奨）
- sandbox: 安全モード（試験的操作時はtrue）
```

---

## 基本的な使用方法

### 1. 基本的なリサーチ実行

```markdown
## 基本実行パターン

### シンプルなリサーチ
```bash
mcp__gemini-cli__ask-gemini --prompt "美容液のAmazonランキング上位10商品を調査して、各商品の特徴、価格、レビュー評価をまとめてください"
```

### 構造化出力でのリサーチ
```bash
mcp__gemini-cli__ask-gemini --prompt "以下の形式で美容液を調査：
【商品名】
【価格】
【評価】
【特徴】
【対象年齢層】" --changeMode true
```

### ペルソナ指定リサーチ
```bash
mcp__gemini-cli__ask-gemini --prompt "30代働く女性向けの美容液について調査してください。
- エイジングケア効果重視
- 朝の時短を重視
- 予算5000円以下
- 敏感肌対応" --changeMode true
```

### 2. 段階的リサーチ実行

#### Step 1: 市場概要調査
```bash
mcp__gemini-cli__ask-gemini --prompt "
[商品カテゴリ]市場の2024年最新動向を調査してください：

【調査項目】
1. 市場規模と成長率
2. 主要ブランド・メーカー
3. 価格帯別市場分布
4. 最新技術・機能トレンド
5. ユーザーニーズの変化

【出力形式】JSON構造で詳細データを含める" --changeMode true
```

#### Step 2: 商品詳細調査
```bash
mcp__gemini-cli__ask-gemini --prompt "
Step1の結果を基に、[商品カテゴリ]の具体的商品を調査：

【対象商品選定条件】
- Amazon評価4.0以上
- レビュー数500件以上
- 発売日2023年以降
- 価格帯[ペルソナ予算範囲]

【各商品の調査項目】
1. 基本情報（名前、メーカー、価格、ASIN）
2. 主要機能・特徴
3. ユーザーレビュー分析
4. 競合比較優位性
5. [ペルソナ重視ポイント]への適合度

【出力】上位15商品のランキング形式" --changeMode true
```

#### Step 3: 詳細分析・検証
```bash
mcp__gemini-cli__ask-gemini --prompt "
Step2で特定した上位5商品について、詳細検証を実施：

【検証項目】
1. サクラレビューの有無・信頼性
2. 競合他社商品との客観的比較
3. 実際の使用者による詳細レビュー
4. 専門家・メディアの評価
5. 価格変動・在庫状況

【[ペルソナ名]視点での評価】
- 購買決定要因との適合度
- 懸念事項への対応状況
- 期待効果の実現可能性

【最終推奨順位】理由付きランキング" --changeMode true
```

---

## リサーチパターン別活用法

### 1. キーワードリサーチパターン

```bash
mcp__gemini-cli__ask-gemini --prompt "
[商品カテゴリ]に関するキーワードリサーチを実行：

【ターゲットペルソナ】
[ペルソナ情報を挿入]

【キーワード調査項目】
1. メインキーワード（月間検索数1000以上）
2. ロングテールキーワード（3-4語の組み合わせ）
3. 関連キーワード（購買意図の高いもの）
4. 競合記事で使用されているキーワード
5. ペルソナの悩みを表現するキーワード

【出力形式】
```json
{
  \"main_keywords\": [
    {
      \"keyword\": \"キーワード\",
      \"search_volume\": \"月間検索数\",
      \"competition\": \"競合度(High/Medium/Low)\",
      \"persona_relevance\": \"ペルソナ関連度(1-10)\"
    }
  ],
  \"long_tail_keywords\": [...],
  \"related_keywords\": [...],
  \"title_suggestions\": [\"記事タイトル候補\"]
}
```
" --changeMode true
```

### 2. 競合分析パターン

```bash
mcp__gemini-cli__ask-gemini --prompt "
「[メインキーワード]」で検索上位10記事の競合分析：

【分析対象】
- Google検索上位10記事
- Amazon内検索上位記事
- 価格.com等比較サイト記事

【分析項目】
1. 記事構成・見出し構造
2. 紹介商品の選定基準・傾向
3. 訴求ポイント・強調要素
4. レビュー・データの活用方法
5. 読者の行動促進手法

【競合ギャップ分析】
- 競合が見落としている要素
- [ペルソナ]のニーズに未対応な部分
- 改善できる情報の正確性・新しさ
- 独自の価値提案ポイント

【差別化戦略提案】
具体的な差別化案を5つ提示" --changeMode true
```

### 3. 製品深掘り調査パターン

```bash
mcp__gemini-cli__ask-gemini --prompt "
[特定商品名]の詳細調査を実施：

【基本情報調査】
- 製品仕様・スペック詳細
- メーカー情報・信頼性
- 価格変動・最安値情報
- 在庫状況・購入可能性

【ユーザーレビュー分析】
- Amazon/楽天/Yahoo等での評価分析
- [ペルソナ]類似ユーザーのレビュー抽出
- ポジティブ評価の共通要因Top5
- ネガティブ評価の共通要因Top5
- 改善要望の傾向

【専門性検証】
- 専門メディア・雑誌での評価
- 業界専門家のコメント
- 技術的な優位性・革新性
- 安全性・品質管理情報

【[ペルソナ]適合性評価】
- ペルソナの重視ポイントとの適合度(1-10)
- ペルソナの悩み解決への貢献度(1-10)
- ペルソナの使用シーンでの実用性(1-10)
- 総合推奨度(1-10)と推奨理由" --changeMode true
```

### 4. トレンド分析パターン

```bash
mcp__gemini-cli__ask-gemini --prompt "
[商品カテゴリ]の2024年トレンド分析：

【技術・機能トレンド】
- 新技術の導入状況と市場反応
- 機能進化の方向性
- 今後1-2年で主流になりそうな機能
- [ペルソナ]にとっての関心度・採用可能性

【市場・価格トレンド】
- 価格帯の変化・コスパ商品の台頭
- 新規参入ブランドの影響
- プレミアム化vs低価格化の動向
- [ペルソナ予算帯]での選択肢の変化

【ユーザー行動トレンド】
- コロナ後の使用パターン変化
- レビューで言及される新しいニーズ
- SNS等での話題・関心事の変化
- [ペルソナ]同世代の行動パターン変化

【記事反映推奨度】
各トレンドについて、記事での取り扱い推奨度を判定：
- 積極的言及推奨 (High)
- 参考程度の言及 (Medium)  
- 慎重に扱うべき (Low)
- 言及不要 (None)" --changeMode true
```

---

## 効率化テクニック

### 1. 一括処理テクニック

#### 複数商品の一括調査
```bash
mcp__gemini-cli__ask-gemini --prompt "
以下の5商品について、並行して詳細調査を実施：

【対象商品】
1. [商品名1]
2. [商品名2] 
3. [商品名3]
4. [商品名4]
5. [商品名5]

【各商品の統一調査項目】
- Amazon評価・レビュー数・価格
- 主要機能・特徴（3つまで）
- [ペルソナ重視ポイント]への適合度
- ユーザーレビューからの良い点・悪い点
- 競合商品との差別化要素

【出力形式】
比較表形式で、各商品を横並びで比較可能な構造" --changeMode true
```

#### 複数キーワードの一括分析
```bash
mcp__gemini-cli__ask-gemini --prompt "
以下のキーワード群について一括でSEO分析：

【対象キーワード】
- [キーワード1]
- [キーワード2]
- [キーワード3]
- [キーワード4]
- [キーワード5]

【各キーワードの分析項目】
- 月間検索ボリューム
- SEO競合難易度
- 上位表示サイトの傾向
- [ペルソナ]検索意図との適合度
- 記事タイトルでの活用推奨度

【統合分析】
- 最も効果的なメインキーワード選定
- 記事内での各キーワード配置戦略
- 関連記事での展開可能性" --changeMode true
```

### 2. 段階的深掘りテクニック

#### Phase分けによる効率化
```bash
# Phase 1: 概要把握（5分）
mcp__gemini-cli__ask-gemini --prompt "[商品カテゴリ]の市場概要を5分で把握できる情報を収集" --changeMode true

# Phase 2: 商品選定（10分）
mcp__gemini-cli__ask-gemini --prompt "Phase1結果を基に、記事化候補商品10個を選定し、基本情報をリスト化" --changeMode true

# Phase 3: 詳細分析（15分）
mcp__gemini-cli__ask-gemini --prompt "Phase2で選定した上位5商品の詳細分析と最終ランキング決定" --changeMode true
```

### 3. テンプレート活用テクニック

#### 定型調査テンプレート
```bash
mcp__gemini-cli__ask-gemini --prompt "
【リサーチテンプレート適用】
商品カテゴリ: [カテゴリ名]
ペルソナ: [ペルソナファイルから抽出した要約]

以下のテンプレートに従って調査実行：

## 1. 市場分析
- 市場規模・成長性
- 主要プレーヤー
- 価格帯分布

## 2. 商品選定  
- 選定基準（評価・レビュー数・価格・発売時期）
- 候補商品リスト（15個）
- ペルソナ適合度スコアリング

## 3. 詳細分析
- 上位5商品の深掘り調査
- 競合比較分析
- 推奨順位決定

## 4. 記事構成提案
- タイトル候補
- 見出し構成
- 重点訴求ポイント

【出力】JSON形式で構造化データとして出力" --changeMode true
```

---

## エラー対策とトラブルシューティング

### よくあるエラーとその対処法

#### 1. 「情報が見つかりません」エラー

**エラーパターン**
```
Error: 指定された商品カテゴリに関する最新情報が見つかりませんでした
```

**対処法：段階的拡張戦略**
```bash
# Step 1: キーワードの一般化
mcp__gemini-cli__ask-gemini --prompt "
元の検索で情報が見つからなかった場合の代替戦略：

【検索拡張手順】
1. 具体的商品名 → 商品カテゴリ名
2. 日本市場限定 → アジア・欧米市場も含める
3. 最新情報 → 過去1年以内の情報
4. Amazon限定 → 楽天・Yahoo・価格.com等も含める

【代替情報収集】
- 類似商品カテゴリでの情報
- 上位カテゴリでの市場動向
- 関連する技術・機能での検索結果

【最低限確保すべき情報】
- 基本的な商品相場
- 一般的な選択基準
- 主要な注意点
- 代表的ブランド・メーカー" --changeMode true
```

#### 2. レスポンス時間オーバーエラー

**エラーパターン**
```
Error: Request timeout - 処理に時間がかかりすぎています
```

**対処法：分割処理戦略**
```bash
# 大きな調査を小分けに
# Before: 50商品一括調査
# After: 10商品×5回に分割

mcp__gemini-cli__ask-gemini --prompt "
以下10商品について詳細調査（全50商品中1-10番目）：
[商品リスト1-10]

【調査項目】簡略版
- 基本情報のみ
- 主要特徴3つまで
- 評価サマリー" --changeMode true
```

#### 3. 出力形式エラー

**エラーパターン**
```
出力された結果が構造化されておらず、整理が困難
```

**対処法：明示的フォーマット指定**
```bash
mcp__gemini-cli__ask-gemini --prompt "
【重要】以下のJSON形式で必ず出力してください：

```json
{
  \"research_date\": \"YYYY-MM-DD\",
  \"category\": \"商品カテゴリ\",
  \"total_products_analyzed\": \"数値\",
  \"top_products\": [
    {
      \"rank\": 1,
      \"name\": \"商品名\",
      \"price\": \"価格\",
      \"rating\": \"評価\",
      \"key_features\": [\"特徴1\", \"特徴2\", \"特徴3\"],
      \"persona_match_score\": \"1-10の数値\"
    }
  ],
  \"summary\": {
    \"market_trend\": \"市場動向要約\",
    \"recommendation\": \"推奨事項\"
  }
}
```

この形式以外での出力は受け付けません。" --changeMode true
```

### エラー回避のベストプラクティス

#### 1. プロンプト設計の工夫

**具体性の確保**
```bash
# ❌ 悪い例
"美容液を調べて"

# ✅ 良い例  
"30代女性向け美容液について、Amazon評価4.0以上、価格3000-8000円、エイジングケア効果のある商品を10個調査"
```

**処理負荷の分散**
```bash
# ❌ 負荷大
"美容液500商品を一括で詳細分析"

# ✅ 負荷分散
"美容液カテゴリから条件に合う商品を15個選定後、上位5個を詳細分析"
```

#### 2. エラー監視とリトライ戦略

**自動リトライロジック**
```bash
# 1回目: 通常のプロンプト実行
# エラー時 → 2回目: 条件を緩和して実行  
# エラー時 → 3回目: 最小限の情報収集に切り替え

mcp__gemini-cli__ask-gemini --prompt "
前回の調査でエラーが発生したため、以下の縮小版で実行：

【縮小調査内容】
- 対象商品数: 50個 → 10個
- 調査項目: 詳細 → 基本情報のみ
- 出力形式: 複雑な構造 → シンプルリスト

【最低限確保する情報】
- 商品名・価格・評価
- 1つの主要特徴
- ペルソナ適合度（High/Medium/Low）" --changeMode true
```

---

## 結果の管理と活用

### 1. 結果の構造化保存

#### ファイル命名規則
```
research/
├── YYYY-MM-DD_[カテゴリ名]_[ペルソナ名]_overview.json
├── YYYY-MM-DD_[カテゴリ名]_[ペルソナ名]_products.json
├── YYYY-MM-DD_[カテゴリ名]_[ペルソナ名]_keywords.json
└── YYYY-MM-DD_[カテゴリ名]_[ペルソナ名]_competitors.json
```

#### 標準データ構造
```json
{
  "meta": {
    "research_date": "2024-09-06",
    "researcher": "Gemini MCP",
    "persona": "30代働く女性",
    "category": "美容液",
    "research_duration": "45分",
    "data_sources": ["Amazon", "楽天", "価格.com", "専門メディア"]
  },
  "market_overview": {
    "market_size": "市場規模情報",
    "growth_rate": "成長率",
    "key_trends": ["トレンド1", "トレンド2"],
    "major_players": ["ブランド1", "ブランド2"]
  },
  "product_analysis": {
    "total_analyzed": 25,
    "selection_criteria": {
      "min_rating": 4.0,
      "min_reviews": 500,
      "price_range": "3000-8000円",
      "release_date": "2023年以降"
    },
    "top_products": [
      {
        "rank": 1,
        "name": "商品名",
        "brand": "ブランド名",
        "price": 5980,
        "amazon_rating": 4.3,
        "review_count": 1247,
        "key_features": ["特徴1", "特徴2", "特徴3"],
        "persona_match": {
          "score": 8.5,
          "reasons": ["理由1", "理由2"],
          "concerns": ["懸念点1"]
        },
        "user_reviews": {
          "positive_highlights": ["良い点1", "良い点2"],
          "negative_points": ["悪い点1", "悪い点2"],
          "persona_similar_reviews": ["類似ユーザーレビュー"]
        }
      }
    ]
  },
  "competitive_analysis": {
    "analyzed_articles": 10,
    "common_patterns": ["パターン1", "パターン2"],
    "differentiation_opportunities": ["差別化案1", "差別化案2"],
    "content_gaps": ["ギャップ1", "ギャップ2"]
  },
  "recommendations": {
    "article_title": "推奨タイトル",
    "key_angles": ["切り口1", "切り口2"],
    "content_strategy": "コンテンツ戦略",
    "follow_up_research": ["追加調査項目1", "追加調査項目2"]
  }
}
```

### 2. 結果の品質評価

#### 品質チェックリスト
```markdown
## Gemini MCP調査結果品質チェック

### データの完全性 (25点満点)
- [ ] 指定した商品数が調査されている (5点)
- [ ] 各商品の基本情報が揃っている (5点)
- [ ] ペルソナ適合度が評価されている (5点)
- [ ] 競合分析が含まれている (5点)  
- [ ] 推奨事項が明確に示されている (5点)

### 情報の信頼性 (25点満点)
- [ ] 複数の情報源が使用されている (5点)
- [ ] データの日付が明記されている (5点)
- [ ] 矛盾する情報への対処がある (5点)
- [ ] サクラレビューのチェックがある (5点)
- [ ] 専門性の高い情報源が含まれている (5点)

### ペルソナ適合性 (25点満点)  
- [ ] ペルソナの悩みが反映されている (5点)
- [ ] ペルソナの価値観が考慮されている (5点)
- [ ] ペルソナの予算感と合致している (5点)
- [ ] ペルソナの使用シーンが想定されている (5点)
- [ ] ペルソナ視点での評価がある (5点)

### 活用実用性 (25点満点)
- [ ] 記事作成に直接使える情報である (5点)
- [ ] 構造化されて整理されている (5点)
- [ ] 競合との差別化ポイントが明確 (5点)
- [ ] 追加調査の方向性が示されている (5点)
- [ ] 結果の活用方法が提案されている (5点)

**合計得点: ___/100点**

**品質レベル判定:**
- 90-100点: 優秀 - そのまま記事作成可能
- 80-89点: 良好 - 軽微な補完で使用可能
- 70-79点: 普通 - 一部再調査が必要
- 60-69点: 要改善 - 大幅な補完が必要  
- 60点未満: 再実行 - 調査からやり直し
```

### 3. 結果の記事への活用

#### 活用フローチャート
```
Gemini MCP調査結果
↓
品質チェック (90点以上?)
↓ Yes
構造化データの抽出
↓
記事アウトライン生成
↓
詳細コンテンツ作成
↓
ファクトチェック
↓
記事完成

↓ No (90点未満)
不足情報の特定
↓  
追加調査実行
↓
結果統合・品質再チェック
```

#### 記事作成テンプレートへの変換
```bash
mcp__gemini-cli__ask-gemini --prompt "
以下のGemini MCP調査結果を、記事作成用のテンプレートに変換してください：

【調査結果データ】
[保存されたJSON結果を挿入]

【変換要求事項】
1. 記事タイトル案（5つ）
2. 見出し構成案
3. 各商品の紹介文（100字程度）
4. 比較表の作成
5. まとめ・推奨文の下書き

【記事の方向性】
- ペルソナ: [ペルソナ名]
- トーン: [親しみやすい/専門的/中立的]
- 文字数: [目標文字数]
- 重点訴求: [最も強調したいポイント]" --changeMode true
```

---

## まとめ

### Gemini MCP活用の成功要因

1. **明確な指示設計**: 曖昧さを排除した具体的なプロンプト
2. **段階的アプローチ**: 一度に大量処理せず、フェーズ分けして実行
3. **エラー対策**: 事前の対策と発生時のリカバリー戦略
4. **品質管理**: 結果の客観的評価と継続的改善
5. **構造化保存**: 再利用可能な形式でのデータ管理

### 効率化のポイント

- **テンプレート化**: よく使うパターンのプロンプトテンプレート作成
- **バッチ処理**: 類似調査の一括実行
- **結果再利用**: 過去の調査結果との組み合わせ活用
- **自動化**: 定期的な市場動向調査の自動実行

このガイドを活用して、Gemini MCPを最大限に活用した効率的なリサーチを実現してください！